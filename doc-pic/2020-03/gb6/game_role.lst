                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : FreeWare ANSI-C Compiler
                              3 ; Version 2.3.1 Thu Mar  5 15:49:15 2020
                              4 
                              5 ;--------------------------------------------------------
                              6 	.module lcc69510
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl _sprite_size
                             12 	.globl _movegamecharacter
                             13 ;--------------------------------------------------------
                             14 ; special function registers
                             15 ;--------------------------------------------------------
                             16 ;--------------------------------------------------------
                             17 ; special function bits 
                             18 ;--------------------------------------------------------
                             19 ;--------------------------------------------------------
                             20 ; internal ram data
                             21 ;--------------------------------------------------------
                             22 	.area _DATA
   0000                      23 _sprite_size::
   0000                      24 	.ds 1
                             25 ;--------------------------------------------------------
                             26 ; overlayable items in internal ram 
                             27 ;--------------------------------------------------------
                             28 	.area _OVERLAY
                             29 ;--------------------------------------------------------
                             30 ; indirectly addressable internal ram data
                             31 ;--------------------------------------------------------
                             32 	.area _ISEG
                             33 ;--------------------------------------------------------
                             34 ; bit data
                             35 ;--------------------------------------------------------
                             36 	.area _BSEG
                             37 ;--------------------------------------------------------
                             38 ; external ram data
                             39 ;--------------------------------------------------------
                             40 	.area _XSEG
                             41 ;--------------------------------------------------------
                             42 ; global & static initialisations
                             43 ;--------------------------------------------------------
                             44 	.area _GSINIT
                             45 	.area _GSFINAL
                             46 	.area _GSINIT
                             47 ;	game_role.c 25
                             48 ;	genAssign
                             49 ;	AOP_HL for _sprite_size
   0000 21 00 00             50 	ld	hl,#_sprite_size
   0003 36 08                51 	ld	(hl),#0x08
                             52 ;--------------------------------------------------------
                             53 ; Home
                             54 ;--------------------------------------------------------
                             55 	.area _HOME
                             56 	.area _CODE
                             57 ;--------------------------------------------------------
                             58 ; code
                             59 ;--------------------------------------------------------
                             60 	.area _CODE
                             61 ;	game_role.c 5
                             62 ;	genLabel
                             63 ;	genFunction
                             64 ;	---------------------------------
                             65 ; Function movegamecharacter
                             66 ; ---------------------------------
   0000                      67 ___movegamecharacter_start:
   0000                      68 _movegamecharacter:
   0000 E8 F8                69 	lda	sp,-8(sp)
                             70 ;	game_role.c 8
                             71 ;	genAssign
                             72 ;	AOP_STK for 
   0002 F8 0A                73 	lda	hl,10(sp)
   0004 4E                   74 	ld	c,(hl)
   0005 23                   75 	inc	hl
   0006 46                   76 	ld	b,(hl)
                             77 ;	genPlus
                             78 ;	AOP_STK for _movegamecharacter_sloc0_1_0
                             79 ;	genPlusIncr
                             80 ;	Can't optimise plus by inc, falling back to the normal way
   0007 21 05 00             81 	ld	hl,#0x0005
   000A 09                   82 	add	hl,bc
   000B 7D                   83 	ld	a,l
   000C 54                   84 	ld	d,h
   000D F8 06                85 	lda	hl,6(sp)
                             86 ;	genPointerGet
                             87 ;	AOP_STK for _movegamecharacter_sloc0_1_0
                             88 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   000F 22                   89 	ld	(hl+),a
   0010 72                   90 	ld	(hl),d
   0011 5F                   91 	ld	e,a
   0012 1A                   92 	ld	a,(de)
   0013 2B                   93 	dec	hl
   0014 2B                   94 	dec	hl
                             95 ;	genCmpEq
                             96 ;	AOP_STK for _movegamecharacter_sloc1_1_0
                             97 ; genCmpEq: left 1, right 1, result 0
   0015 77                   98 	ld      (hl),a
                             99 ; Removed redundent load
   0016 FE 02               100 	cp	a,#0x02
   0018 C2 2B 00            101 	jp	nz,00102$
   001B 18 03               102 	jr	00129$
   001D                     103 00128$:
   001D C3 2B 00            104 	jp	00102$
   0020                     105 00129$:
                            106 ;	game_role.c 10
                            107 ;	genAssign (pointer)
                            108 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   0020 F8 06               109 	lda	hl,6(sp)
   0022 5E                  110 	ld	e,(hl)
   0023 23                  111 	inc	hl
   0024 56                  112 	ld	d,(hl)
   0025 3E 00               113 	ld	a,#0x00
   0027 12                  114 	ld	(de),a
                            115 ;	genGoto
   0028 C3 35 00            116 	jp	00103$
                            117 ;	genLabel
   002B                     118 00102$:
                            119 ;	game_role.c 14
                            120 ;	genPlus
                            121 ;	AOP_STK for _movegamecharacter_sloc1_1_0
                            122 ;	genPlusIncr
                            123 ;	Can't optimise plus by inc, falling back to the normal way
   002B F8 05               124 	lda	hl,5(sp)
   002D 7E                  125 	ld	a,(hl)
   002E C6 01               126 	add	a,#0x01
                            127 ;	genAssign (pointer)
                            128 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   0030 23                  129 	inc	hl
   0031 5E                  130 	ld	e,(hl)
   0032 23                  131 	inc	hl
   0033 56                  132 	ld	d,(hl)
   0034 12                  133 	ld	(de),a
                            134 ;	genLabel
   0035                     135 00103$:
                            136 ;	game_role.c 17
                            137 ;	genPlus
                            138 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            139 ;	genPlusIncr
                            140 ;	Can't optimise plus by inc, falling back to the normal way
   0035 21 02 00            141 	ld	hl,#0x0002
   0038 09                  142 	add	hl,bc
   0039 7D                  143 	ld	a,l
   003A 54                  144 	ld	d,h
   003B F8 03               145 	lda	hl,3(sp)
   003D 22                  146 	ld	(hl+),a
   003E 72                  147 	ld	(hl),d
                            148 ;	genPointerGet
                            149 ;	AOP_STK for _movegamecharacter_sloc0_1_0
                            150 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   003F 23                  151 	inc	hl
   0040 23                  152 	inc	hl
   0041 5E                  153 	ld	e,(hl)
   0042 23                  154 	inc	hl
   0043 56                  155 	ld	d,(hl)
   0044 1A                  156 	ld	a,(de)
   0045 2B                  157 	dec	hl
   0046 2B                  158 	dec	hl
                            159 ;	genPlus
                            160 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            161 ;	AOP_STK for _movegamecharacter_sloc1_1_0
                            162 ;	AOP_STK for _movegamecharacter_sloc3_1_0
                            163 ;	Can't optimise plus by inc, falling back to the normal way
   0047 32                  164 	ld      (hl-),a
   0048 2B                  165 	dec	hl
   0049 5E                  166 	ld	e,(hl)
   004A 23                  167 	inc	hl
   004B 56                  168 	ld	d,(hl)
   004C 23                  169 	inc	hl
   004D 6E                  170 	ld	l,(hl)
   004E 26 00               171 	ld	h,#0x00
   0050 19                  172 	add	hl,de
   0051 7D                  173 	ld	a,l
   0052 54                  174 	ld	d,h
   0053 F8 01               175 	lda	hl,1(sp)
                            176 ;	genPointerGet
                            177 ;	AOP_STK for _movegamecharacter_sloc3_1_0
                            178 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   0055 22                  179 	ld	(hl+),a
   0056 72                  180 	ld	(hl),d
   0057 5F                  181 	ld	e,a
   0058 1A                  182 	ld	a,(de)
   0059 F8 05               183 	lda	hl,5(sp)
   005B 77                  184 	ld	(hl),a
                            185 ;	genPointerGet
                            186 ;	AOP_STK for _movegamecharacter_sloc3_1_0
   005C 0A                  187 	ld	a,(bc)
   005D F8 01               188 	lda	hl,1(sp)
   005F 77                  189 	ld	(hl),a
                            190 ;	genIpush
                            191 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   0060 C5                  192 	push	bc
                            193 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   0061 F8 07               194 	lda	hl,7(sp)
   0063 7E                  195 	ld	a,(hl)
   0064 F5                  196 	push	af
   0065 33                  197 	inc	sp
                            198 ;	genIpush
                            199 ;	AOP_STK for _movegamecharacter_sloc3_1_0
   0066 F8 04               200 	lda	hl,4(sp)
   0068 7E                  201 	ld	a,(hl)
   0069 F5                  202 	push	af
   006A 33                  203 	inc	sp
                            204 ;	genCall
   006B CD 00 00            205 	call	_set_sprite_tile
   006E E8 02               206 	lda	sp,2(sp)
   0070 C1                  207 	pop	bc
                            208 ;	game_role.c 18
                            209 ;	genPointerGet
                            210 ;	AOP_STK for _movegamecharacter_sloc0_1_0
                            211 ;	AOP_STK for _movegamecharacter_sloc3_1_0
   0071 F8 06               212 	lda	hl,6(sp)
   0073 5E                  213 	ld	e,(hl)
   0074 23                  214 	inc	hl
   0075 56                  215 	ld	d,(hl)
   0076 1A                  216 	ld	a,(de)
   0077 F8 01               217 	lda	hl,1(sp)
                            218 ;	genPlus
                            219 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            220 ;	AOP_STK for _movegamecharacter_sloc3_1_0
                            221 ;	AOP_STK for _movegamecharacter_sloc0_1_0
                            222 ;	Can't optimise plus by inc, falling back to the normal way
   0079 22                  223 	ld	(hl+),a
   007A 23                  224 	inc	hl
   007B 5E                  225 	ld	e,(hl)
   007C 23                  226 	inc	hl
   007D 56                  227 	ld	d,(hl)
   007E F8 01               228 	lda	hl,1(sp)
   0080 6E                  229 	ld	l,(hl)
   0081 26 00               230 	ld	h,#0x00
   0083 19                  231 	add	hl,de
   0084 7D                  232 	ld	a,l
   0085 54                  233 	ld	d,h
   0086 F8 06               234 	lda	hl,6(sp)
                            235 ;	genPointerGet
                            236 ;	AOP_STK for _movegamecharacter_sloc0_1_0
                            237 ;	AOP_STK for _movegamecharacter_sloc3_1_0
   0088 22                  238 	ld	(hl+),a
   0089 72                  239 	ld	(hl),d
   008A 5F                  240 	ld	e,a
   008B 1A                  241 	ld	a,(de)
   008C F8 01               242 	lda	hl,1(sp)
                            243 ;	genPlus
                            244 ;	AOP_STK for _movegamecharacter_sloc3_1_0
                            245 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            246 ;	genPlusIncr
                            247 ;	Can't optimise plus by inc, falling back to the normal way
   008E 77                  248 	ld      (hl),a
                            249 ; Removed redundent load
   008F C6 02               250 	add	a,#0x02
   0091 23                  251 	inc	hl
   0092 23                  252 	inc	hl
   0093 77                  253 	ld	(hl),a
                            254 ;	genPlus
                            255 ;	AOP_STK for _movegamecharacter_sloc3_1_0
                            256 ;	genPlusIncr
                            257 ;	Can't optimise plus by inc, falling back to the normal way
   0094 21 01 00            258 	ld	hl,#0x0001
   0097 09                  259 	add	hl,bc
   0098 7D                  260 	ld	a,l
   0099 54                  261 	ld	d,h
   009A F8 01               262 	lda	hl,1(sp)
                            263 ;	genPointerGet
                            264 ;	AOP_STK for _movegamecharacter_sloc3_1_0
                            265 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   009C 22                  266 	ld	(hl+),a
   009D 72                  267 	ld	(hl),d
   009E 5F                  268 	ld	e,a
   009F 1A                  269 	ld	a,(de)
   00A0 F8 05               270 	lda	hl,5(sp)
   00A2 77                  271 	ld	(hl),a
                            272 ;	genIpush
                            273 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   00A3 C5                  274 	push	bc
                            275 ;	AOP_STK for _movegamecharacter_sloc2_1_0
   00A4 2B                  276 	dec	hl
   00A5 2B                  277 	dec	hl
   00A6 7E                  278 	ld	a,(hl)
   00A7 F5                  279 	push	af
   00A8 33                  280 	inc	sp
                            281 ;	genIpush
                            282 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   00A9 23                  283 	inc	hl
   00AA 23                  284 	inc	hl
   00AB 7E                  285 	ld	a,(hl)
   00AC F5                  286 	push	af
   00AD 33                  287 	inc	sp
                            288 ;	genCall
   00AE CD 00 00            289 	call	_set_sprite_tile
   00B1 E8 02               290 	lda	sp,2(sp)
   00B3 C1                  291 	pop	bc
                            292 ;	game_role.c 20
                            293 ;	genPlus
                            294 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            295 ;	genPlusIncr
                            296 ;	Can't optimise plus by inc, falling back to the normal way
   00B4 21 06 00            297 	ld	hl,#0x0006
   00B7 09                  298 	add	hl,bc
   00B8 7D                  299 	ld	a,l
   00B9 54                  300 	ld	d,h
   00BA F8 03               301 	lda	hl,3(sp)
                            302 ;	genPointerGet
                            303 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            304 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   00BC 22                  305 	ld	(hl+),a
   00BD 72                  306 	ld	(hl),d
   00BE 5F                  307 	ld	e,a
   00BF 1A                  308 	ld	a,(de)
   00C0 23                  309 	inc	hl
   00C1 77                  310 	ld	(hl),a
                            311 ;	genCmpLt
                            312 ;	AOP_STK for 
                            313 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   00C2 F8 0C               314 	lda	hl,12(sp)
   00C4 7E                  315 	ld	a,(hl)
   00C5 F8 05               316 	lda	hl,5(sp)
   00C7 96                  317 	sub	a,(hl)
   00C8 D2 52 01            318 	jp	nc,00105$
                            319 ;	genPlus
                            320 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            321 ;	genPlusIncr
                            322 ;	Can't optimise plus by inc, falling back to the normal way
   00CB 21 08 00            323 	ld	hl,#0x0008
   00CE 09                  324 	add	hl,bc
   00CF 7D                  325 	ld	a,l
   00D0 54                  326 	ld	d,h
   00D1 F8 03               327 	lda	hl,3(sp)
                            328 ;	genPointerGet
                            329 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            330 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   00D3 22                  331 	ld	(hl+),a
   00D4 72                  332 	ld	(hl),d
   00D5 5F                  333 	ld	e,a
   00D6 1A                  334 	ld	a,(de)
   00D7 23                  335 	inc	hl
   00D8 23                  336 	inc	hl
                            337 ;	genCmpEq
                            338 ;	AOP_STK for _movegamecharacter_sloc0_1_0
                            339 ; genCmpEq: left 1, right 1, result 0
   00D9 77                  340 	ld      (hl),a
                            341 ; Removed redundent load
   00DA FE 02               342 	cp	a,#0x02
   00DC C2 52 01            343 	jp	nz,00105$
   00DF 18 03               344 	jr	00131$
   00E1                     345 00130$:
   00E1 C3 52 01            346 	jp	00105$
   00E4                     347 00131$:
                            348 ;	game_role.c 22
                            349 ;	genPointerGet
                            350 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   00E4 0A                  351 	ld	a,(bc)
   00E5 F8 06               352 	lda	hl,6(sp)
   00E7 77                  353 	ld	(hl),a
                            354 ;	genIpush
                            355 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   00E8 C5                  356 	push	bc
                            357 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   00E9 7E                  358 	ld	a,(hl)
   00EA F5                  359 	push	af
   00EB 33                  360 	inc	sp
                            361 ;	genCall
   00EC CD 00 00            362 	call	_get_sprite_prop
                            363 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   00EF F8 09               364 	lda	hl,9(sp)
   00F1 73                  365 	ld	(hl),e
   00F2 E8 01               366 	lda	sp,1(sp)
   00F4 C1                  367 	pop	bc
                            368 ;	genOr
                            369 ;	AOP_STK for _movegamecharacter_sloc0_1_0
                            370 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   00F5 F8 06               371 	lda	hl,6(sp)
   00F7 7E                  372 	ld	a,(hl)
   00F8 F6 20               373 	or	a,#0x20
   00FA F8 00               374 	lda	hl,0(sp)
   00FC 77                  375 	ld	(hl),a
                            376 ;	genPointerGet
                            377 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   00FD 0A                  378 	ld	a,(bc)
   00FE F8 06               379 	lda	hl,6(sp)
   0100 77                  380 	ld	(hl),a
                            381 ;	genIpush
                            382 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   0101 C5                  383 	push	bc
                            384 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   0102 F8 02               385 	lda	hl,2(sp)
   0104 7E                  386 	ld	a,(hl)
   0105 F5                  387 	push	af
   0106 33                  388 	inc	sp
                            389 ;	genIpush
                            390 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   0107 F8 09               391 	lda	hl,9(sp)
   0109 7E                  392 	ld	a,(hl)
   010A F5                  393 	push	af
   010B 33                  394 	inc	sp
                            395 ;	genCall
   010C CD 00 00            396 	call	_set_sprite_prop
   010F E8 02               397 	lda	sp,2(sp)
   0111 C1                  398 	pop	bc
                            399 ;	game_role.c 23
                            400 ;	genPointerGet
                            401 ;	AOP_STK for _movegamecharacter_sloc3_1_0
                            402 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   0112 F8 01               403 	lda	hl,1(sp)
   0114 5E                  404 	ld	e,(hl)
   0115 23                  405 	inc	hl
   0116 56                  406 	ld	d,(hl)
   0117 1A                  407 	ld	a,(de)
   0118 2B                  408 	dec	hl
   0119 2B                  409 	dec	hl
   011A 77                  410 	ld	(hl),a
                            411 ;	genIpush
                            412 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   011B C5                  413 	push	bc
                            414 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   011C 7E                  415 	ld	a,(hl)
   011D F5                  416 	push	af
   011E 33                  417 	inc	sp
                            418 ;	genCall
   011F CD 00 00            419 	call	_get_sprite_prop
                            420 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   0122 F8 03               421 	lda	hl,3(sp)
   0124 73                  422 	ld	(hl),e
   0125 E8 01               423 	lda	sp,1(sp)
   0127 C1                  424 	pop	bc
                            425 ;	genOr
                            426 ;	AOP_STK for _movegamecharacter_sloc4_1_0
                            427 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   0128 F8 00               428 	lda	hl,0(sp)
   012A 7E                  429 	ld	a,(hl)
   012B F6 20               430 	or	a,#0x20
   012D F8 06               431 	lda	hl,6(sp)
   012F 77                  432 	ld	(hl),a
                            433 ;	genPointerGet
                            434 ;	AOP_STK for _movegamecharacter_sloc3_1_0
                            435 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   0130 F8 01               436 	lda	hl,1(sp)
   0132 5E                  437 	ld	e,(hl)
   0133 23                  438 	inc	hl
   0134 56                  439 	ld	d,(hl)
   0135 1A                  440 	ld	a,(de)
   0136 2B                  441 	dec	hl
   0137 2B                  442 	dec	hl
   0138 77                  443 	ld	(hl),a
                            444 ;	genIpush
                            445 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   0139 C5                  446 	push	bc
                            447 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   013A F8 08               448 	lda	hl,8(sp)
   013C 7E                  449 	ld	a,(hl)
   013D F5                  450 	push	af
   013E 33                  451 	inc	sp
                            452 ;	genIpush
                            453 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   013F F8 03               454 	lda	hl,3(sp)
   0141 7E                  455 	ld	a,(hl)
   0142 F5                  456 	push	af
   0143 33                  457 	inc	sp
                            458 ;	genCall
   0144 CD 00 00            459 	call	_set_sprite_prop
   0147 E8 02               460 	lda	sp,2(sp)
   0149 C1                  461 	pop	bc
                            462 ;	game_role.c 24
                            463 ;	genAssign (pointer)
                            464 ;	AOP_STK for _movegamecharacter_sloc2_1_0
   014A F8 03               465 	lda	hl,3(sp)
   014C 5E                  466 	ld	e,(hl)
   014D 23                  467 	inc	hl
   014E 56                  468 	ld	d,(hl)
   014F 3E 04               469 	ld	a,#0x04
   0151 12                  470 	ld	(de),a
                            471 ;	genLabel
   0152                     472 00105$:
                            473 ;	game_role.c 27
                            474 ;	genCmpGt
                            475 ;	AOP_STK for 
                            476 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   0152 F8 05               477 	lda	hl,5(sp)
   0154 7E                  478 	ld	a,(hl)
   0155 F8 0C               479 	lda	hl,12(sp)
   0157 96                  480 	sub	a,(hl)
   0158 D2 E2 01            481 	jp	nc,00108$
                            482 ;	genPlus
                            483 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            484 ;	genPlusIncr
                            485 ;	Can't optimise plus by inc, falling back to the normal way
   015B 21 08 00            486 	ld	hl,#0x0008
   015E 09                  487 	add	hl,bc
   015F 7D                  488 	ld	a,l
   0160 54                  489 	ld	d,h
   0161 F8 03               490 	lda	hl,3(sp)
                            491 ;	genPointerGet
                            492 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            493 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   0163 22                  494 	ld	(hl+),a
   0164 72                  495 	ld	(hl),d
   0165 5F                  496 	ld	e,a
   0166 1A                  497 	ld	a,(de)
   0167 F8 00               498 	lda	hl,0(sp)
                            499 ;	genCmpEq
                            500 ;	AOP_STK for _movegamecharacter_sloc4_1_0
                            501 ; genCmpEq: left 1, right 1, result 0
   0169 77                  502 	ld      (hl),a
                            503 ; Removed redundent load
   016A FE 04               504 	cp	a,#0x04
   016C C2 E2 01            505 	jp	nz,00108$
   016F 18 03               506 	jr	00133$
   0171                     507 00132$:
   0171 C3 E2 01            508 	jp	00108$
   0174                     509 00133$:
                            510 ;	game_role.c 29
                            511 ;	genPointerGet
                            512 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   0174 0A                  513 	ld	a,(bc)
   0175 F8 00               514 	lda	hl,0(sp)
   0177 77                  515 	ld	(hl),a
                            516 ;	genIpush
                            517 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   0178 C5                  518 	push	bc
                            519 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   0179 7E                  520 	ld	a,(hl)
   017A F5                  521 	push	af
   017B 33                  522 	inc	sp
                            523 ;	genCall
   017C CD 00 00            524 	call	_get_sprite_prop
                            525 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   017F F8 03               526 	lda	hl,3(sp)
   0181 73                  527 	ld	(hl),e
   0182 E8 01               528 	lda	sp,1(sp)
   0184 C1                  529 	pop	bc
                            530 ;	genAnd
                            531 ;	AOP_STK for _movegamecharacter_sloc4_1_0
                            532 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   0185 F8 00               533 	lda	hl,0(sp)
   0187 7E                  534 	ld	a,(hl)
   0188 E6 DF               535 	and	a,#0xDF
   018A F8 06               536 	lda	hl,6(sp)
   018C 77                  537 	ld	(hl),a
                            538 ;	genPointerGet
                            539 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   018D 0A                  540 	ld	a,(bc)
   018E F8 00               541 	lda	hl,0(sp)
   0190 77                  542 	ld	(hl),a
                            543 ;	genIpush
                            544 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   0191 C5                  545 	push	bc
                            546 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   0192 F8 08               547 	lda	hl,8(sp)
   0194 7E                  548 	ld	a,(hl)
   0195 F5                  549 	push	af
   0196 33                  550 	inc	sp
                            551 ;	genIpush
                            552 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   0197 F8 03               553 	lda	hl,3(sp)
   0199 7E                  554 	ld	a,(hl)
   019A F5                  555 	push	af
   019B 33                  556 	inc	sp
                            557 ;	genCall
   019C CD 00 00            558 	call	_set_sprite_prop
   019F E8 02               559 	lda	sp,2(sp)
   01A1 C1                  560 	pop	bc
                            561 ;	game_role.c 30
                            562 ;	genPointerGet
                            563 ;	AOP_STK for _movegamecharacter_sloc3_1_0
                            564 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   01A2 F8 01               565 	lda	hl,1(sp)
   01A4 5E                  566 	ld	e,(hl)
   01A5 23                  567 	inc	hl
   01A6 56                  568 	ld	d,(hl)
   01A7 1A                  569 	ld	a,(de)
   01A8 2B                  570 	dec	hl
   01A9 2B                  571 	dec	hl
   01AA 77                  572 	ld	(hl),a
                            573 ;	genIpush
                            574 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   01AB C5                  575 	push	bc
                            576 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   01AC 7E                  577 	ld	a,(hl)
   01AD F5                  578 	push	af
   01AE 33                  579 	inc	sp
                            580 ;	genCall
   01AF CD 00 00            581 	call	_get_sprite_prop
                            582 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   01B2 F8 03               583 	lda	hl,3(sp)
   01B4 73                  584 	ld	(hl),e
   01B5 E8 01               585 	lda	sp,1(sp)
   01B7 C1                  586 	pop	bc
                            587 ;	genAnd
                            588 ;	AOP_STK for _movegamecharacter_sloc4_1_0
                            589 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   01B8 F8 00               590 	lda	hl,0(sp)
   01BA 7E                  591 	ld	a,(hl)
   01BB E6 DF               592 	and	a,#0xDF
   01BD F8 06               593 	lda	hl,6(sp)
   01BF 77                  594 	ld	(hl),a
                            595 ;	genPointerGet
                            596 ;	AOP_STK for _movegamecharacter_sloc3_1_0
                            597 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   01C0 F8 01               598 	lda	hl,1(sp)
   01C2 5E                  599 	ld	e,(hl)
   01C3 23                  600 	inc	hl
   01C4 56                  601 	ld	d,(hl)
   01C5 1A                  602 	ld	a,(de)
   01C6 2B                  603 	dec	hl
   01C7 2B                  604 	dec	hl
   01C8 77                  605 	ld	(hl),a
                            606 ;	genIpush
                            607 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   01C9 C5                  608 	push	bc
                            609 ;	AOP_STK for _movegamecharacter_sloc0_1_0
   01CA F8 08               610 	lda	hl,8(sp)
   01CC 7E                  611 	ld	a,(hl)
   01CD F5                  612 	push	af
   01CE 33                  613 	inc	sp
                            614 ;	genIpush
                            615 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   01CF F8 03               616 	lda	hl,3(sp)
   01D1 7E                  617 	ld	a,(hl)
   01D2 F5                  618 	push	af
   01D3 33                  619 	inc	sp
                            620 ;	genCall
   01D4 CD 00 00            621 	call	_set_sprite_prop
   01D7 E8 02               622 	lda	sp,2(sp)
   01D9 C1                  623 	pop	bc
                            624 ;	game_role.c 31
                            625 ;	genAssign (pointer)
                            626 ;	AOP_STK for _movegamecharacter_sloc2_1_0
   01DA F8 03               627 	lda	hl,3(sp)
   01DC 5E                  628 	ld	e,(hl)
   01DD 23                  629 	inc	hl
   01DE 56                  630 	ld	d,(hl)
   01DF 3E 02               631 	ld	a,#0x02
   01E1 12                  632 	ld	(de),a
                            633 ;	genLabel
   01E2                     634 00108$:
                            635 ;	game_role.c 34
                            636 ;	genCmpEq
                            637 ;	AOP_STK for _movegamecharacter_sloc1_1_0
                            638 ;	AOP_STK for 
                            639 ; genCmpEq: left 1, right 1, result 0
   01E2 F8 0C               640 	lda	hl,12(sp)
   01E4 7E                  641 	ld	a,(hl)
   01E5 F8 05               642 	lda	hl,5(sp)
   01E7 BE                  643 	cp	(hl)
   01E8 20 02               644 	jr	nz,00134$
   01EA 18 03               645 	jr	00135$
   01EC                     646 00134$:
   01EC C3 09 02            647 	jp	00115$
   01EF                     648 00135$:
                            649 ;	genPlus
                            650 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            651 ;	genPlusIncr
                            652 ;	Can't optimise plus by inc, falling back to the normal way
   01EF 21 07 00            653 	ld	hl,#0x0007
   01F2 09                  654 	add	hl,bc
   01F3 7D                  655 	ld	a,l
   01F4 54                  656 	ld	d,h
   01F5 F8 03               657 	lda	hl,3(sp)
                            658 ;	genPointerGet
                            659 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            660 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   01F7 22                  661 	ld	(hl+),a
   01F8 72                  662 	ld	(hl),d
   01F9 5F                  663 	ld	e,a
   01FA 1A                  664 	ld	a,(de)
   01FB F8 00               665 	lda	hl,0(sp)
   01FD 77                  666 	ld	(hl),a
                            667 ;	genCmpEq
                            668 ;	AOP_STK for _movegamecharacter_sloc4_1_0
                            669 ;	AOP_STK for 
                            670 ; genCmpEq: left 1, right 1, result 0
   01FE F8 0D               671 	lda	hl,13(sp)
   0200 7E                  672 	ld	a,(hl)
   0201 F8 00               673 	lda	hl,0(sp)
   0203 BE                  674 	cp	(hl)
   0204 20 03               675 	jr	nz,00136$
   0206 C3 B3 02            676 	jp	00118$
   0209                     677 00136$:
                            678 ;	genLabel
   0209                     679 00115$:
                            680 ;	game_role.c 35
                            681 ;	genPlus
                            682 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            683 ;	genPlusIncr
                            684 ;	Can't optimise plus by inc, falling back to the normal way
   0209 21 08 00            685 	ld	hl,#0x0008
   020C 09                  686 	add	hl,bc
   020D 7D                  687 	ld	a,l
   020E 54                  688 	ld	d,h
   020F F8 03               689 	lda	hl,3(sp)
                            690 ;	genPointerGet
                            691 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            692 ;	AOP_STK for _movegamecharacter_sloc4_1_0
   0211 22                  693 	ld	(hl+),a
   0212 72                  694 	ld	(hl),d
   0213 5F                  695 	ld	e,a
   0214 1A                  696 	ld	a,(de)
   0215 F8 00               697 	lda	hl,0(sp)
                            698 ;	genCmpEq
                            699 ;	AOP_STK for _movegamecharacter_sloc4_1_0
                            700 ; genCmpEq: left 1, right 1, result 0
   0217 77                  701 	ld      (hl),a
                            702 ; Removed redundent load
   0218 FE 02               703 	cp	a,#0x02
   021A C2 74 02            704 	jp	nz,00113$
   021D 18 03               705 	jr	00138$
   021F                     706 00137$:
   021F C3 74 02            707 	jp	00113$
   0222                     708 00138$:
                            709 ;	game_role.c 36
                            710 ;	genMinus
                            711 ;	AOP_STK for 
                            712 ;	AOP_STK for _movegamecharacter_sloc2_1_0
   0222 F8 0C               713 	lda	hl,12(sp)
   0224 7E                  714 	ld	a,(hl)
   0225 C6 FC               715 	add	a,#0xFC
   0227 F8 03               716 	lda	hl,3(sp)
   0229 77                  717 	ld	(hl),a
                            718 ;	genPointerGet
                            719 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   022A 0A                  720 	ld	a,(bc)
   022B 23                  721 	inc	hl
   022C 23                  722 	inc	hl
   022D 77                  723 	ld	(hl),a
                            724 ;	genIpush
                            725 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   022E C5                  726 	push	bc
                            727 ;	AOP_STK for 
   022F F8 0F               728 	lda	hl,15(sp)
   0231 7E                  729 	ld	a,(hl)
   0232 F5                  730 	push	af
   0233 33                  731 	inc	sp
                            732 ;	genIpush
                            733 ;	AOP_STK for _movegamecharacter_sloc2_1_0
   0234 F8 06               734 	lda	hl,6(sp)
   0236 7E                  735 	ld	a,(hl)
   0237 F5                  736 	push	af
   0238 33                  737 	inc	sp
                            738 ;	genIpush
                            739 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   0239 23                  740 	inc	hl
   023A 23                  741 	inc	hl
   023B 7E                  742 	ld	a,(hl)
   023C F5                  743 	push	af
   023D 33                  744 	inc	sp
                            745 ;	genCall
   023E CD 00 00            746 	call	_move_sprite
   0241 E8 03               747 	lda	sp,3(sp)
   0243 C1                  748 	pop	bc
                            749 ;	game_role.c 37
                            750 ;	genPlus
                            751 ;	AOP_STK for 
                            752 ;	AOP_HL for _sprite_size
                            753 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            754 ;	Can't optimise plus by inc, falling back to the normal way
   0244 F8 0C               755 	lda	hl,12(sp)
   0246 7E                  756 	ld	a,(hl)
   0247 21 00 00            757 	ld	hl,#_sprite_size
   024A 86                  758 	add	a,(hl)
   024B F8 03               759 	lda	hl,3(sp)
                            760 ;	genMinus
                            761 ;	AOP_STK for _movegamecharacter_sloc2_1_0
                            762 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   024D 77                  763 	ld      (hl),a
                            764 ; Removed redundent load
   024E C6 FC               765 	add	a,#0xFC
   0250 23                  766 	inc	hl
   0251 23                  767 	inc	hl
   0252 77                  768 	ld	(hl),a
                            769 ;	genPointerGet
                            770 ;	AOP_STK for _movegamecharacter_sloc3_1_0
                            771 ;	AOP_STK for _movegamecharacter_sloc2_1_0
   0253 F8 01               772 	lda	hl,1(sp)
   0255 5E                  773 	ld	e,(hl)
   0256 23                  774 	inc	hl
   0257 56                  775 	ld	d,(hl)
   0258 1A                  776 	ld	a,(de)
   0259 23                  777 	inc	hl
   025A 77                  778 	ld	(hl),a
                            779 ;	genIpush
                            780 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 1 deSending: 0
   025B C5                  781 	push	bc
                            782 ;	AOP_STK for 
   025C F8 0F               783 	lda	hl,15(sp)
   025E 7E                  784 	ld	a,(hl)
   025F F5                  785 	push	af
   0260 33                  786 	inc	sp
                            787 ;	genIpush
                            788 ;	AOP_STK for _movegamecharacter_sloc1_1_0
   0261 F8 08               789 	lda	hl,8(sp)
   0263 7E                  790 	ld	a,(hl)
   0264 F5                  791 	push	af
   0265 33                  792 	inc	sp
                            793 ;	genIpush
                            794 ;	AOP_STK for _movegamecharacter_sloc2_1_0
   0266 2B                  795 	dec	hl
   0267 2B                  796 	dec	hl
   0268 7E                  797 	ld	a,(hl)
   0269 F5                  798 	push	af
   026A 33                  799 	inc	sp
                            800 ;	genCall
   026B CD 00 00            801 	call	_move_sprite
   026E E8 03               802 	lda	sp,3(sp)
   0270 C1                  803 	pop	bc
                            804 ;	genGoto
   0271 C3 B3 02            805 	jp	00118$
                            806 ;	genLabel
   0274                     807 00113$:
                            808 ;	game_role.c 39
                            809 ;	genCmpEq
                            810 ;	AOP_STK for _movegamecharacter_sloc4_1_0
                            811 ; genCmpEq: left 1, right 1, result 0
   0274 F8 00               812 	lda	hl,0(sp)
   0276 7E                  813 	ld	a,(hl)
   0277 FE 04               814 	cp	a,#0x04
   0279 C2 B3 02            815 	jp	nz,00118$
   027C 18 03               816 	jr	00140$
   027E                     817 00139$:
   027E C3 B3 02            818 	jp	00118$
   0281                     819 00140$:
                            820 ;	game_role.c 41
                            821 ;	genPointerGet
   0281 0A                  822 	ld	a,(bc)
   0282 4F                  823 	ld	c,a
                            824 ;	genIpush
                            825 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 0 deSending: 0
                            826 ;	AOP_STK for 
   0283 F8 0D               827 	lda	hl,13(sp)
   0285 7E                  828 	ld	a,(hl)
   0286 F5                  829 	push	af
   0287 33                  830 	inc	sp
                            831 ;	genIpush
                            832 ;	AOP_STK for 
   0288 2B                  833 	dec	hl
   0289 7E                  834 	ld	a,(hl)
   028A F5                  835 	push	af
   028B 33                  836 	inc	sp
                            837 ;	genIpush
   028C 79                  838 	ld	a,c
   028D F5                  839 	push	af
   028E 33                  840 	inc	sp
                            841 ;	genCall
   028F CD 00 00            842 	call	_move_sprite
   0292 E8 03               843 	lda	sp,3(sp)
                            844 ;	game_role.c 42
                            845 ;	genMinus
                            846 ;	AOP_STK for 
                            847 ;	AOP_HL for _sprite_size
   0294 F8 0C               848 	lda	hl,12(sp)
   0296 7E                  849 	ld	a,(hl)
   0297 21 00 00            850 	ld	hl,#_sprite_size
   029A 96                  851 	sub	a,(hl)
   029B 4F                  852 	ld	c,a
                            853 ;	genPointerGet
                            854 ;	AOP_STK for _movegamecharacter_sloc3_1_0
   029C F8 01               855 	lda	hl,1(sp)
   029E 5E                  856 	ld	e,(hl)
   029F 23                  857 	inc	hl
   02A0 56                  858 	ld	d,(hl)
   02A1 1A                  859 	ld	a,(de)
   02A2 47                  860 	ld	b,a
                            861 ;	genIpush
                            862 ; _saveRegsForCall: sendSetSize: 0 deInUse: 0 bcInUse: 0 deSending: 0
                            863 ;	AOP_STK for 
   02A3 F8 0D               864 	lda	hl,13(sp)
   02A5 7E                  865 	ld	a,(hl)
   02A6 F5                  866 	push	af
   02A7 33                  867 	inc	sp
                            868 ;	genIpush
   02A8 79                  869 	ld	a,c
   02A9 F5                  870 	push	af
   02AA 33                  871 	inc	sp
                            872 ;	genIpush
   02AB 78                  873 	ld	a,b
   02AC F5                  874 	push	af
   02AD 33                  875 	inc	sp
                            876 ;	genCall
   02AE CD 00 00            877 	call	_move_sprite
   02B1 E8 03               878 	lda	sp,3(sp)
                            879 ;	genLabel
   02B3                     880 00118$:
                            881 ;	genEndFunction
   02B3 E8 08               882 	lda	sp,8(sp)
   02B5 C9                  883 	ret
   02B6                     884 ___movegamecharacter_end:
                            885 	.area _CODE
ASxxxx Assembler V01.75  (GameBoy Z80-like CPU), page 1.

Symbol Table

  0 ___movegamecharacter_end           02B6 R
  0 ___movegamecharacter_start         0000 R
    _get_sprite_prop                   **** GX
    _move_sprite                       **** GX
  0 _movegamecharacter                 0000 GR
    _set_sprite_prop                   **** GX
    _set_sprite_tile                   **** GX
  1 _sprite_size                       0000 GR

ASxxxx Assembler V01.75  (GameBoy Z80-like CPU), page 2.

Area Table

   0 _CODE                              size  2B6   flags 0
   1 _DATA                              size    1   flags 0
   2 _OVERLAY                           size    0   flags 0
   3 _ISEG                              size    0   flags 0
   4 _BSEG                              size    0   flags 0
   5 _XSEG                              size    0   flags 0
   6 _GSINIT                            size    5   flags 0
   7 _GSFINAL                           size    0   flags 0
   8 _HOME                              size    0   flags 0
