---
layout: post
title:  "MikroTik RouterOS 产品初识"
date:   2019-05-08 12:59:06
categories: [network, routeros]
tags: [MikroTik, RouterOS]
---

## 这是什么

MikroTik这家公司部位于拉脱维亚，97年开发出RouterOS系统，02年开始销售自有硬件。我从2010年使用到现在才发现RouterOS真是最好用的路由系统，高灵活、可配置的系统。可以跑在x86、mips、arm、tile各种CPU上。如果只是为了试用或者不怕费电，完全可以跑在x86架构老主板上。但是我这篇文章主要介绍的是自家硬件也就是RouterBoard。我们来看看ROS的部分优点：

1. 多种管理方式，串行端口、telnet、ssh、WEB、winbox有图形有控制台
2. 灵活路由规则，比如有多条线路接入【电信/联通】可以主动配置网内用户不同目标IP走不同的线路
3. 对符合规则的数据流进行标签标注，以方便下一步的处理
4. 灵活的PPP方案(sstp/pptp/l2tp/openvpn)你懂得为什么我们这么需要这个。
5. 板载交换芯片【部分型号】，可以让内网通讯直接从交换芯片通过。减少路由CPU负担
6. 可以基于TCP/IP协议第7层进行过滤，比如域名过滤[可以解决域名污染问题]、微信消息过滤.....
7. 各种过滤放行规则，组建你自己的网络防火墙，创建动态IP列表。
8. VLAN划分，在家里的实用场景，比如从弱电箱到电视只预埋了一根网络，现在又想走网络又想走IPTV。vlan可以帮你实现
9. 对于网络初学人员，图形化的界面熟悉网络规则
10. Hotspot,可以实现上网人员管理，比如现在用的最多的场景扫码关注公众号后才允许上网
11. 传统路由有的功能，限流功能【游戏第1、看视频第2】，端口转发，IPV6
12. 内置集成一些网络工具
13. 免费的版本更新，其实这个系统也是免费的，只要注册就能获得，并可以全用L1级别授权。
14. 。。。。。。还有一些我目前没用上的


## 我们来看一下MikroTik产品线

下面我们来介绍下MikroTik自家产品线，这次我们不看太专业的产品【比如户外使用的，长距离通讯的】，我们只看适合家庭或小工作室使用的，有三个产品线[Ethernet routers]、[Wireless for home and office]、[RouterBOARD]。

其中[Ethernet routers]是有线路由器产品，RB开头为中低端系列适合家庭使用，CCR开头为高端产品价格会略高适合小型团队甚至小型ISP做PPPoE服务器计费使用。

[Wireless for home and office]看名字就知道这个系列下是适合家用或办公室的无线设备，但支持802.11ac的设备并不多。路由性能都是中规中矩的。

[RouterBOARD]裸板系列产品，目前在售的比较适合的产品只有RB450Gx4一款。


说了这么多，我该如何选择产品，那就是看你是否需要无线，路由是否要放弱电箱里，还是有专用机柜。你要带多少电脑，还有你有多少条进来的线路以及带宽情况。

1. 如果需要集成无线，那请考虑[Wireless for home and office]下产品
2. 如果想放在弱电箱里，请考虑5口以下设备，如果弱电箱里没有电源，请考虑支持PoE的设备远程供电
3. 如果你家带宽在500Mbps以上，请看一下设备的转发能力。
如这款新品hAP AC2 ![ac2](http://guohai163.github.com/doc-pic/2019-05/WX20190509-132805.png) 去年的新品，价格低转发能力强，小包在不加规则的情况下能到761Mbps。就算放在弱电箱里禁掉无线也是一款高性价比的产品，还支持PoE远程供电。
4. 如果需要同时带多台有线设备，又不想再购买交换机，可以考虑集成交换芯片的产品，如RB4001

我们来看下这张性价比图
![RB产品性价比](http://guohai163.github.io/doc-pic/2019-05/pr2-1.png)

通过这张图我们能发现几个性价比巨高的产品 RB750Gr3[有线产品，第三代产品，内置交换芯片，支持PoE远程供电]，hAPac2[无线产品支持802.11ac，转发能力强],RB4011iGS[有线产品，10端口，带SFP+]。基本家中在这3款里选一款不会错。小工作团队的建议从CCR1009开始向上选。

但是。买RouterBoard真心不建议当无线路由使用，目前他家的AC1600以上的零售产品只有3款,还有一款是AP。剩下的两款一个RB962一个RB4001都不便宜，一个$129一个$249。关键RB962产品也有点老了，性能一般。
所以建议对无线速率要求高的尽量另外购买AP来解决。

## 这么多好处，买买买就可以了吗？

功能多，但也真的挺复杂的，我觉得这套系统可能不适合没有网络基础知识的朋友们。如果想用好这套系统用出和普通路由的区别建议至少学习计算机网络相关课程，知道7层协议，明白路由原理。

如果以上话有看不明白的，就不建议购买了，找第三方配置的人工费不会比你买设备便宜多少。

下一次我会谈谈RouterOS系统的简单设置。

